{% extends 'base_new.html' %}
{% load static %}


{% block content %}

  <div>
    <div class="w-container" style="margin-bottom: 50px;">
      <h1 class="heading" style="padding-bottom: 15px;">Poker Rankings</h1>


    <div class="w-row">
    <div class="w-col w-col-8">
      <h3>Rangtabelle</h3>
      <div class="w-dyn-list">
        <div role="list" class="w-dyn-items">
          <div role="listitem" class="w-dyn-item">
            <div class="csgo-columns-1 w-row">
              <div class="w-col w-col-1">
                <div class="csgo-text-block">#</div>
              </div>
              <div class="w-col w-col-5">
                <div class="csgo-text-block-2">Name</div>
              </div>
              <div class="w-col w-col-3">
                <div class="csgo-text-block-3">Balance</div>
              </div>
              <div class="w-col w-col-3">
                <div class="csgo-text-block-3">Rang</div>
              </div>
            </div>
          </div>

          {% for player_object in player_data %}

          
          {% if forloop.counter == 1 %}
          <div role="listitem" class="w-dyn-item" style="color: rgb(255, 217, 0)">
          {% endif %}
          {% if forloop.counter == 2 %}
          <div role="listitem" class="w-dyn-item" style="color: rgb(192, 192, 192)">
          {% endif %}
          {% if forloop.counter == 3 %}
          <div role="listitem" class="w-dyn-item" style="color: #bf8970">
          {% endif %}
          {% if forloop.counter > 3 %}
          <div role="listitem" class="w-dyn-item">
          {% endif %}

            <div class="csgo-columns-2 w-row">
              <div class="w-col w-col-1">
                <div class="csgo-text-block">{{ forloop.counter }}</div>
              </div>
              <div class="w-col w-col-5">
                <div class="csgo-text-block-2">{{ player_object.name }}</div>
              </div>
              <div class="w-col w-col-3">
                <div class="csgo-text-block-3">{{ player_object.balance }}</div>
              </div>
              <div class="w-col w-col-3">

                <div class="csgo-text-block-3">N/A</div>

              </div>
            </div>
          </div>

          {% endfor %}

        </div>
      </div>
      </div>

      <div class="w-col w-col-4">
        <h3>Control Center</h3>
      <div class="w-dyn-list">
        <div role="list" class="w-dyn-items">
          <div role="listitem" class="w-dyn-item">
            
            {% if user.is_authenticated %}
            
            <form method="POST" style="color:black">
              {% csrf_token %}
              {{ update_form }}

              <input type="submit" value="Auszahlen" class="button w-button" name="withdraw" style="margin-top: 15px">
              <input type="submit" value="Einzahlen" class="button w-button" name="deposit">

            </form>


            {% else %}
            <div style="font-size: 18px; margin-top:30%">Um Zugriff auf die Funktionen des Poker-Rankings zu haben, m√ºssen Sie als Administrator eingeloggt sein.</div>
            {% endif %}

          </div>
        </div>
      </div>

    </div>
    </div>

    </div>
  </div>

{% endblock %}